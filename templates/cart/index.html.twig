{% extends 'base.html.twig' %}

{% block title %}
	Mon Panier
{% endblock %}

{% block body %}
	<div class="container">
		<h1>Panier</h1>
		{% for item in items %}
			<table class="table table-bordered">
				<thead>
					<tr>
						<th>Produit</th>
						<th>Prix</th>
						<th>Quantité</th>
						<th>Prix total</th>
						<th>Action</th>
					</tr>
				</thead>

				<tbody>
					<tr>
						<td>{{ item.product.name }}
						</td>
						<td>{{ item.product.price }}
						</td>
						<td>{{ item.quantity }}
						</td>
						<td>{{ item.product.price * item.quantity }}
						</td>
						<td>
							<a href="{{ path('app_cart_product_remove', {'id': item.product.id}) }}" class="custom-btn delete-btn">Supprimer du panier</a>
						</td>
					</tr>
				</tbody>

			{% else %}
				<p>Votre panier est vide</p>
				<a href="{{ path('app_home') }}" class="custom-btn back-btn">Retour à l'accueil</a>

			{% endfor %}
		</table>

		{% if total > 0 %}
			<p>Total à payer :
				{{ total }}
				euros</p>
			<div class="flex">
				<a href="" class="custom-btn new-btn">Valider la commande</a>
				<a href="{{ path('app_cart_remove') }}" class="custom-btn delete-btn">Supprimer le panier</a>
			</div>
		{% endif %}

	</div>
{% endblock %}
