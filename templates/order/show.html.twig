{% extends 'base.html.twig' %}

{% block title %}Détails de la commande #{{ order.id }}
{% endblock %}

{% block body %}
	<div class="container mx-auto px-4 py-6">
		<div class="content-container">
			<div class="mb-6">
				<a href="{{ path('app_orders_show') }}" class="custom-btn-with-logo back-btn">
					<ion-icon name="chevron-back-outline"></ion-icon>
					Retour à la liste
				</a>
			</div>

			<div class="card bg-white">
				<div class="card-body p-6">
					<h2 class="text-2xl font-semibold mb-4">Commande #{{ order.id }}</h2>

					<div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
						<div>
							<p class="text-sm text-gray-600">Client</p>
							<p class="font-semibold">{{ order.firstname }}
								{{ order.lastname }}</p>
							<p class="text-sm">{{ order.email ?? '' }}</p>
							<p class="text-sm">{{ order.phone ?? '' }}</p>
						</div>
						<div>
							<p class="text-sm text-gray-600">Adresse</p>
							<p class="font-semibold">{{ order.address }}</p>
							<p class="text-sm">{{ order.city ? order.city.name : '' }}</p>
						</div>
					</div>

					<div class="mb-6">
						<p class="text-sm text-gray-600">Paiement à la livraison</p>
						<p class="font-semibold">
							{% if order.payOnDelivery %}Oui{% else %}Non
							{% endif %}
						</p>
					</div>

					<div>
						<h3 class="text-lg font-semibold mb-3">Produits</h3>
						<div class="space-y-3">
							{% for item in order.orderProducts %}
								<div class="flex items-center justify-between border border-gray-100 rounded-lg p-3">
									<div>
										<div class="font-medium">{{ item.product.name }}</div>
										<div class="text-sm text-gray-600">Quantité:
											{{ item.quantity }}</div>
									</div>
									<div class="text-right">
										<div class="font-semibold">{{ (item.product.price * item.quantity) }}
											€</div>
									</div>
								</div>
							{% endfor %}
						</div>
					</div>

					<div class="mt-6 text-right">
						<span class="text-sm text-gray-600">Total:</span>
						<span class="text-xl font-bold">{{ order.totalPrice }}
							€</span>
					</div>
				</div>
			</div>
		</div>
	</div>
{% endblock %}
